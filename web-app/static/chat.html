<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Awesome Game- Chatting room</title>
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
		<script src="/socket.io/socket.io.js"></script> 

		<style>
			
			body{
				margin-top: 30px; 
			}
		</style>
	</head>
	<body>
		<div class= "container">
			<div class = "row">
				<div class = "col-md-4">
					<div class = "well">
						<h3>Online Users</h3>
						<ul class = "user_list" id="users"></ul>
					</div>
				</div>
				
				<div class = "col-md-8">
					<div class="chat" id="chatDisplay"></div>

					<form id="messageForm">
						<div class="formClass">
							<label>Enter Message</label>
							<textarea class="form-control" id = "message"></textarea>
							<br/>
							<input type="submit" class= "btn btn-primary" value="Send Message">
						</div>
					</form>

				</div>
			</div>
		</div>

		
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		
		<script>
			
		$(function(){
			var socket = io.connect();
			var $messageForm = $('#messageForm');
			var $message = $('#message');
			var $chatDisplay = $('#chatDisplay');
			
			$messageForm.submit(function(e){
				e.preventDefault();
				socket.emit('sendMessage', $message.val());
				$message.val('');
			});

			socket.on('newMessage', function(data){
				$chatDisplay.append('<div class ="well">' + data.name + ": " + data.msg + '</div>');
			})
		})

		</script>


	</body>
</html>
